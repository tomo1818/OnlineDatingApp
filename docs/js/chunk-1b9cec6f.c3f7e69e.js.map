{"version":3,"sources":["webpack:///./src/pages/chat.vue?eb41","webpack:///src/pages/chat.vue","webpack:///./src/pages/chat.vue?568b","webpack:///./src/pages/chat.vue?b3cf","webpack:///./src/pages/chat.vue?b180"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","name","userId","$route","params","messages","_l","message","index","key","id","_s","user","picture","_e","me","directives","rawName","value","expression","domProps","on","$event","target","composing","currMessage","sendMessage","staticRenderFns","data","created","undefined","$store","state","getters","getUserById","users","methods","console","log","commit","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACJ,EAAIO,GAAG,eAAeH,EAAG,cAAc,CAACI,MAAM,CAAC,GAAK,CAACC,KAAK,aAAcC,OAAQT,KAAKU,OAAOC,OAAOF,UAAU,CAACV,EAAIO,GAAG,QAASP,EAAIa,UAAY,GAAIT,EAAG,MAAMJ,EAAIc,GAAId,EAAY,UAAE,SAASe,EAAQC,GAAO,OAAOZ,EAAG,MAAM,CAACa,IAAIF,EAAQG,GAAGZ,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,IAAI,CAACE,YAAY,WAAW,CAACN,EAAIO,GAAGP,EAAImB,GAAGJ,EAAQ,OAAOX,EAAG,IAAI,CAACE,YAAY,QAAQ,CAACN,EAAIO,GAAGP,EAAImB,GAAGJ,EAAQ,SAAUC,EAAQ,IAAM,EAAGZ,EAAG,MAAM,CAACE,YAAY,uCAAuC,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiBE,MAAM,CAAC,IAAMR,EAAIoB,KAAKC,QAAQ,IAAM,QAAQrB,EAAIsB,KAAMN,EAAQ,IAAM,EAAGZ,EAAG,MAAM,CAACE,YAAY,uCAAuC,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiBE,MAAM,CAAC,IAAMR,EAAIuB,GAAG,IAAM,QAAQvB,EAAIsB,YAAW,GAAGtB,EAAIsB,KAAKlB,EAAG,OAAO,CAACE,YAAY,UAAU,CAACF,EAAG,QAAQ,CAACoB,WAAW,CAAC,CAACf,KAAK,QAAQgB,QAAQ,UAAUC,MAAO1B,EAAe,YAAE2B,WAAW,gBAAgBnB,MAAM,CAAC,KAAO,QAAQoB,SAAS,CAAC,MAAS5B,EAAe,aAAG6B,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,YAAqBhC,EAAIiC,YAAYH,EAAOC,OAAOL,WAAUtB,EAAG,SAAS,CAACE,YAAY,kBAAkBE,MAAM,CAAC,KAAO,UAAUqB,GAAG,CAAC,MAAQ7B,EAAIkC,cAAc,CAAClC,EAAIO,GAAG,WAAW,MAC13C4B,EAAkB,GC8BtB,GACEC,KADF,WAEI,MAAO,CACLH,YAAa,GACbpB,SAAU,GACVO,KAAM,GACNG,GAAI,KAGRc,QAAS,gBACgEC,IAAnErC,KAAKsC,OAAOC,MAAM3B,SAASA,SAASZ,KAAKU,OAAOC,OAAOF,UACzD,KAAN,yEAEIT,KAAKmB,KAAOnB,KAAKsC,OAAOE,QAAQC,YAAYzC,KAAKU,OAAOC,OAAOF,QAC/DT,KAAKsB,GAAKtB,KAAKsC,OAAOC,MAAMG,MAAMpB,IAEpCqB,QAAS,CACPV,YADJ,WAEMW,QAAQC,IAAI7C,KAAKgC,aACjBhC,KAAKsC,OAAOQ,OAAO,cAAe,CAAxC,sEACM9C,KAAKY,SAAWZ,KAAKsC,OAAOC,MAAM3B,SAASA,SAASZ,KAAKU,OAAOC,OAAOF,QACvET,KAAKgC,YAAc,MCpDqT,I,wBCQ1Ue,EAAY,eACd,EACAjD,EACAoC,GACA,EACA,KACA,WACA,MAIa,aAAAa,E,oECnBf","file":"js/chunk-1b9cec6f.c3f7e69e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chat\"},[_c('div',{staticClass:\"container\"},[_c('h2',[_vm._v(\"チャットページです\")]),_c('router-link',{attrs:{\"to\":{name:'UserDetail', userId: this.$route.params.userId}}},[_vm._v(\"戻る\")]),(_vm.messages != [])?_c('div',_vm._l((_vm.messages),function(message,index){return _c('div',{key:message.id,staticClass:\"chat-box\"},[_c('div',{staticClass:\"messages d-flex\"},[_c('div',{staticClass:\"message-box\"},[_c('p',{staticClass:\"message\"},[_vm._v(_vm._s(message[0]))]),_c('p',{staticClass:\"time\"},[_vm._v(_vm._s(message[1]))])]),(index % 2 === 1)?_c('div',{staticClass:\"person-img text-left rounded-circle\"},[_c('img',{staticClass:\"rounded-circle\",attrs:{\"src\":_vm.user.picture,\"alt\":\"\"}})]):_vm._e(),(index % 2 === 0)?_c('div',{staticClass:\"person-img text-left rounded-circle\"},[_c('img',{staticClass:\"rounded-circle\",attrs:{\"src\":_vm.me,\"alt\":\"\"}})]):_vm._e()])])}),0):_vm._e(),_c('form',{staticClass:\"submit\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currMessage),expression:\"currMessage\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.currMessage)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.currMessage=$event.target.value}}}),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.sendMessage}},[_vm._v(\"送信\")])])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"chat\">\n    <div class=\"container\">\n      <h2>チャットページです</h2>\n      <router-link :to=\"{name:'UserDetail', userId: this.$route.params.userId}\">戻る</router-link>\n      <div v-if=\"messages != []\">\n        <div class=\"chat-box\" v-for=\"(message, index) in messages\" v-bind:key=\"message.id\">\n          <div class=\"messages d-flex\">\n            <div class=\"message-box\">\n              <p class=\"message\">{{ message[0] }}</p>\n              <p class=\"time\">{{ message[1] }}</p>\n            </div>\n            <div class=\"person-img text-left rounded-circle\" v-if=\"index % 2 === 1\">\n              <img class=\"rounded-circle\" v-bind:src=\"user.picture\" alt=\"\">\n            </div>\n            <div class=\"person-img text-left rounded-circle\" v-if=\"index % 2 === 0\">\n              <img class=\"rounded-circle\" v-bind:src=\"me\" alt=\"\">\n            </div>\n          </div>\n        </div>\n      </div>\n      <form class=\"submit\">\n        <input type=\"text\" v-model=\"currMessage\">\n        <button type=\"button\" class=\"btn btn-primary\" v-on:click=\"sendMessage\">送信</button>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\n\nexport default ({\n  data () {\n    return {\n      currMessage: '',\n      messages: [],\n      user: '',\n      me: ''\n    }\n  },\n  created: function() {\n    if (this.$store.state.messages.messages[this.$route.params.userId] !== undefined) {\n        this.messages = this.$store.state.messages.messages[this.$route.params.userId];\n    }\n    this.user = this.$store.getters.getUserById(this.$route.params.userId);\n    this.me = this.$store.state.users.me;\n  },\n  methods: {\n    sendMessage() {\n      console.log(this.currMessage);\n      this.$store.commit('setMessages', {id: this.$route.params.userId, message: this.currMessage, date: new Date()});\n      this.messages = this.$store.state.messages.messages[this.$route.params.userId];\n      this.currMessage = '';\n    }\n  }\n})\n</script>\n\n<style scoped>\n  .messages {\n    margin-bottom: 10px;\n  }\n\n  .chat-box .message-box {\n    text-align: left;\n  }\n  \n  .chat-box:nth-child(2n) .message-box .time {\n    text-align: right;\n  }\n\n  .chat-box:nth-child(2n) .person-img {\n    margin-right: auto;\n  }\n\n  .chat-box:nth-child(2n + 1) .person-img {\n    margin-left: auto;\n  }\n\n  .chat-box:nth-child(2n) .messages {\n    flex-direction: row-reverse;\n  }\n\n  .person-img img {\n    width: 50px;\n  }\n\n  .message {\n    color: #333;\n  }\n\n  .message-box {\n    max-width: 50%;\n  }\n\n  .message-box p {\n    margin-bottom: 3px;\n  }\n\n  .time {\n    color: darkgray;\n    font-size: 14px;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chat.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./chat.vue?vue&type=template&id=4f467e4a&scoped=true&\"\nimport script from \"./chat.vue?vue&type=script&lang=js&\"\nexport * from \"./chat.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chat.vue?vue&type=style&index=0&id=4f467e4a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f467e4a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chat.vue?vue&type=style&index=0&id=4f467e4a&scoped=true&lang=css&\""],"sourceRoot":""}